<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:sec="http://www.springframework.org/security/tags" xmlns:c="http://java.sun.com/jsp/jstl/core">


<ui:composition template="/WEB-INF/templates/tv7/customer_tv7_archive_template.xhtml">

    <ui:define name="title">
        #{msg.customers}
    </ui:define>
    <!--<ui:include src="/WEB-INF/templates/sec.xhtml"/>-->
    <ui:define name="content">


        <p:dialog header="Не выбран потребитель" widgetVar="dlg3" showEffect="explode" hideEffect="explode" height="100" visible="${not empty message}" >
            <h:outputText value="${message}" styleClass="error" />
        </p:dialog>


        <h:form id="form">
            <p:growl id="msgs" showDetail="true" />

            <h:panelGrid columns="2" cellpadding="5">
                <p:outputLabel for="button" value="От даты:" />
                <p:calendar id="button" value="#{selectionTv7.day_of}" showOn="button" />
            </h:panelGrid>
            <h:panelGrid columns="2" cellpadding="5">
                <p:outputLabel for="button" value="До даты:" />
                <p:calendar id="button2" value="#{selectionTv7.day_to}" showOn="button" />
            </h:panelGrid>



            <p:dialog modal="true" resizable="false" header="Values" widgetVar="dlg" showEffect="fold">
                <p:panelGrid id="display" columns="2" columnClasses="label,value">

                    <h:outputText value="Дата от:" />
                    <h:outputText value="#{selectionTv7.day_of}">
                        <f:convertDateTime pattern="MM/dd/yyyy" />
                    </h:outputText>

                    <h:outputText value="Дата до:" />
                    <h:outputText value="#{selectionTv7.day_to}">
                        <f:convertDateTime pattern="MM/dd/yyyy" />
                    </h:outputText>

                </p:panelGrid>
            </p:dialog>

            <p:commandButton value="#{msg.select}" event="onclick"  action="action_selectTv7"  actionListener="#{searchCriteriaTv7.set_all_data(selectionTv7.day_of, selectionTv7.day_to)}" icon="ui-icon-check" />


                <p:dataTable var="u" value="#{archive}" tableStyle="table-layout: auto; white-space: nowrap;"   rows="35"
                             paginator="true"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="35,50,70"  scrollable="true" scrollWidth="1600">
                    <f:facet name="header">
                        #{msg.customers}
                    </f:facet>



                    <p:column>
                        <f:facet name="header" tableStyle="table-layout: auto;">
                            <p:outputLabel value="Потребитель" />
                        </f:facet>
                        <h:outputText value="#{u.customerName}" />
                    </p:column>
                    <p:column tableStyle="table-layout: auto;" headerText="Тип архива">
                        <h:outputText value="#{u.typeOperation}" />
                    </p:column>
                    <p:column  headerText="Дата записи">
                        <h:outputText value="#{u.chronoligical}" />
                    </p:column>

                    <p:column headerText="t1 по ТВ1">
                        <h:outputText value="#{u.t1Tv1}" />
                    </p:column>

                    <p:column headerText="P1 по ТВ1">
                        <h:outputText value="#{u.p1Tv1}" />
                    </p:column>

                    <p:column headerText="V1 по ТВ1">
                        <h:outputText value="#{u.v1Tv1}" />
                    </p:column>

                    <p:column headerText="M1 по ТВ1">
                        <h:outputText value="#{u.m1Tv1}" />
                    </p:column>


                    <p:column headerText="t2 по ТВ1">
                    <h:outputText value="#{u.t2Tv1}" />
                </p:column>

                    <p:column headerText="P2 по ТВ1">
                        <h:outputText value="#{u.p2Tv1}" />
                    </p:column>

                    <p:column headerText="V2 по ТВ1">
                        <h:outputText value="#{u.v2Tv1}" />
                    </p:column>

                    <p:column headerText="M2 по ТВ1">
                        <h:outputText value="#{u.m2Tv1}" />
                    </p:column>

                    <p:column headerText="t3 по ТВ1">
                        <h:outputText value="#{u.t3Tv1}" />
                    </p:column>

                    <p:column headerText="P3 по ТВ1">
                        <h:outputText value="#{u.p3Tv1}" />
                    </p:column>

                    <p:column headerText="V3 по ТВ1">
                        <h:outputText value="#{u.v3Tv1}" />
                    </p:column>

                    <p:column headerText="M3 по ТВ1">
                        <h:outputText value="#{u.m3Tv1}" />
                    </p:column>


                    <p:column headerText="t1 по ТВ2">
                        <h:outputText value="#{u.t1Tv2}" />
                    </p:column>

                    <p:column headerText="P1 по ТВ2">
                        <h:outputText value="#{u.p1Tv2}" />
                    </p:column>

                    <p:column headerText="V1 по ТВ2">
                        <h:outputText value="#{u.v1Tv2}" />
                    </p:column>

                    <p:column headerText="M1 по ТВ2">
                        <h:outputText value="#{u.m1Tv2}" />
                    </p:column>


                    <p:column headerText="t2 по ТВ2">
                        <h:outputText value="#{u.t2Tv2}" />
                    </p:column>

                    <p:column headerText="P2 по ТВ2">
                        <h:outputText value="#{u.p2Tv2}" />
                    </p:column>

                    <p:column headerText="V2 по ТВ2">
                        <h:outputText value="#{u.v2Tv2}" />
                    </p:column>

                    <p:column headerText="M2 по ТВ2">
                        <h:outputText value="#{u.m2Tv2}" />
                    </p:column>

                    <p:column headerText="t3 по ТВ2">
                        <h:outputText value="#{u.t3Tv2}" />
                    </p:column>

                    <p:column headerText="P3 по ТВ1">
                        <h:outputText value="#{u.p3Tv2}" />
                    </p:column>

                    <p:column headerText="V3 по ТВ2">
                        <h:outputText value="#{u.v3Tv2}" />
                    </p:column>

                    <p:column headerText="M3 по ТВ2">
                        <h:outputText value="#{u.m3Tv2}" />
                    </p:column>

                    <p:column headerText="tнв по ТВ1">
                        <h:outputText value="#{u.tnvTv1}" />
                    </p:column>

                    <p:column headerText="tx по ТВ1">
                        <h:outputText value="#{u.txTv1}" />
                    </p:column>

                    <p:column headerText="Px по ТВ1">
                        <h:outputText value="#{u.pxTv1}" />
                    </p:column>

                    <p:column headerText="dt по ТВ1">
                        <h:outputText value="#{u.dtTv1}" />
                    </p:column>

                    <p:column headerText="dM по ТВ1">
                        <h:outputText value="#{u.dMTv1}" />
                    </p:column>

                    <p:column headerText="Qтв по ТВ1">
                        <h:outputText value="#{u.qtvTv1}" />
                    </p:column>

                    <p:column headerText="Q12 по ТВ1">
                        <h:outputText value="#{u.q12Tv1}" />
                    </p:column>

                    <p:column headerText="Qг по ТВ1">
                        <h:outputText value="#{u.qgTv1}" />
                    </p:column>

                    <p:column headerText="ВНР по ТВ1">
                        <h:outputText value="#{u.vnrTv1}" />
                    </p:column>

                    <p:column headerText="ВОС по ТВ1">
                        <h:outputText value="#{u.vosTv1}" />
                    </p:column>


                    <p:column headerText="tнв по ТВ2">
                        <h:outputText value="#{u.tnvTv2}" />
                    </p:column>

                    <p:column headerText="tx по ТВ2">
                        <h:outputText value="#{u.txTv2}" />
                    </p:column>

                    <p:column headerText="Px по ТВ2">
                        <h:outputText value="#{u.pxTv2}" />
                    </p:column>

                    <p:column headerText="dt по ТВ2">
                        <h:outputText value="#{u.dtTv2}" />
                    </p:column>

                    <p:column headerText="dM по ТВ2">
                        <h:outputText value="#{u.dMTv2}" />
                    </p:column>

                    <p:column headerText="Qтв по ТВ2">
                        <h:outputText value="#{u.qtvTv2}" />
                    </p:column>

                    <p:column headerText="Q12 по ТВ2">
                        <h:outputText value="#{u.q12Tv2}" />
                    </p:column>

                    <p:column headerText="Qг по ТВ2">
                        <h:outputText value="#{u.qgTv2}" />
                    </p:column>

                    <p:column headerText="ВНР по ТВ2">
                        <h:outputText value="#{u.vnrTv2}" />
                    </p:column>

                    <p:column headerText="ВОС по ТВ2">
                        <h:outputText value="#{u.vosTv2}" />
                    </p:column>









                    <f:facet name="paginatorTopLeft">
                        <p:commandButton type="button" icon="fa fa-sync" />
                    </f:facet>

                    <f:facet name="paginatorBottomRight">
                        <p:commandButton type="button" icon="fa fa-cloud-upload" />
                    </f:facet>
                </p:dataTable>
            </h:form>

            <!--<p:poll interval="15"  update=":form" />-->











    </ui:define>








</ui:composition>

</html>
